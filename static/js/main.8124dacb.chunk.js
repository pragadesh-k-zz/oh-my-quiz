(this["webpackJsonpmy-first-app"]=this["webpackJsonpmy-first-app"]||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var s=n(0),a=n(1),c=n.n(a),r=n(8),i=n.n(r),o=(n(15),n(2)),u=n(3),h=n(5),p=n(4),l=(n(16),function(t){return Object(s.jsxs)("header",{children:[Object(s.jsx)("span",{className:"fa fa-flag-checkered"}),Object(s.jsx)("p",{children:"Oh My Quizz!"})]})}),d=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props.choiceState,e=t.choice,n=t.status;return Object(s.jsxs)("div",{children:[Object(s.jsx)(j,{question:this.props.data.question}),Object(s.jsx)(b,{seconds:this.props.timer,setSeconds:this.props.setSeconds}),Object(s.jsx)(f,{options:this.props.data.updated_options,checkAnswer:this.props.checkAnswer,choice:e,status:n,correct_answer:this.props.data.correct_answer}),Object(s.jsx)("div",{className:"next-section",children:Object(s.jsx)("button",{className:"btn-next",onClick:this.props.nextQuestion,children:"Next"})})]})}}]),n}(a.Component),j=function(t){return Object(s.jsx)("div",{className:"question-box question",children:Object(s.jsx)("p",{dangerouslySetInnerHTML:{__html:t.question}})})},b=function(t){return Object(a.useEffect)((function(){var e=setTimeout((function(){t.setSeconds()}),1e3);return function(){clearTimeout(e)}}),[t]),Object(s.jsx)("div",{className:"timer-box",children:Object(s.jsx)("div",{className:"time-bar",children:Object(s.jsx)("p",{className:"seconds",children:t.seconds})})})},m=function(t){var e={white:"white",red:"#F74036",green:"#37C451"},n=""===t.choice&&""===t.status?e.white:t.choice===t.option[1]?e[t.status]:t.option[1]===t.correct_answer?e.green:e.white;return Object(s.jsxs)("div",{className:"option-box",style:{backgroundColor:n},onClick:t.checkAnswer.bind(undefined,t.option[1]),children:[Object(s.jsx)("div",{className:"badge ".concat(t.option[0]),children:t.option[0]}),Object(s.jsx)("p",{className:"option-text",dangerouslySetInnerHTML:{__html:t.option[1]}})]})},f=function(t){return Object(s.jsx)("div",{className:"option-section",children:t.options.map((function(e,n){return Object(s.jsx)(m,{option:e,checkAnswer:t.checkAnswer,choice:t.choice,status:t.status,correct_answer:t.correct_answer},n)}))})},x=n(7),O=n.n(x),v=n(9),w=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={nQuestions:1},t.updateData=function(t){var e=["A","B","C","D"];return t.forEach((function(t){var n,s=[],a=Math.floor(Math.random()*t.incorrect_answers.length);t.incorrect_answers.map((function(t){return s.push(t)})),s.splice(a,0,t.correct_answer),n=e.map((function(t,e){return[t,s[e]]})),t.updated_options=n})),t},t.fetchData=function(){var e=Object(v.a)(O.a.mark((function e(n){var s,a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("https://opentdb.com/api.php?amount=".concat(t.state.nQuestions,"&category=11&difficulty=easy&type=multiple"));case 3:return s=e.sent,e.next=6,s.json();case 6:a=e.sent,c=t.updateData(a.results),t.props.onSubmit(Number(t.state.nQuestions),c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(s.jsxs)("form",{onSubmit:this.fetchData,children:[Object(s.jsx)("input",{type:"number",value:this.state.nQuestions,onChange:function(e){return t.setState({nQuestions:e.target.value})},required:!0,min:"1",className:"input-ques"}),Object(s.jsx)("button",{className:"btn-start",children:"Start Quiz."})]})}}]),n}(c.a.Component),g=function(t){return Object(s.jsxs)("div",{className:"again",children:[Object(s.jsx)("p",{className:"greet",children:"Nice Try!"}),Object(s.jsx)("button",{className:"btn-playagain",onClick:t.startNewQuiz,children:"Play Again"}),Object(s.jsxs)("p",{style:{padding:"1rem",margin:"10px 0px",textShadow:"0px 0px 20px white"},children:["Correct : ",t.status.answered," / ",t.status.nQuestions]})]})},y=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={gameState:!1,nQuestions:0,gameData:[],questionNumber:0,timer:15,choice:"",status:"",answered:0},t.handleSubmit=function(e,n){t.setState({gameState:!0,nQuestions:e,gameData:n})},t.nextQuestion=function(){t.state.nQuestions-1!==t.state.questionNumber?t.setState({questionNumber:t.state.questionNumber+1,timer:10,choice:"",status:""}):t.setState({gameState:!1})},t.setSeconds=function(){t.state.timer>0?t.setState({timer:t.state.timer-1}):t.nextQuestion()},t.checkAnswer=function(e){""===t.state.choice&&""===t.state.status&&0!==t.state.timer&&(e===t.state.gameData[t.state.questionNumber].correct_answer?t.setState({choice:e,status:"green",answered:t.state.answered+1}):t.setState({choice:e,status:"red"}))},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){console.log("quiz mounted")}},{key:"render",value:function(){var t=this.state,e=t.gameData,n=t.gameState,a=t.nQuestions,c=t.questionNumber,r=t.timer,i=t.choice,o=t.status,u=t.answered;return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(l,{}),n||0!==a?null:Object(s.jsx)(w,{onSubmit:this.handleSubmit}),n&&a>0?Object(s.jsx)(d,{data:e[c],timer:r,nextQuestion:this.nextQuestion,setSeconds:this.setSeconds,checkAnswer:this.checkAnswer,choiceState:{choice:i,status:o}}):null,!n&&a>0?Object(s.jsx)(g,{startNewQuiz:this.props.startNewQuiz,status:{nQuestions:a,answered:u}}):null]})}}]),n}(c.a.Component),N=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={key:1},t.startNewQuiz=function(){t.setState({key:t.state.key+1})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state.key;return Object(s.jsx)("div",{children:Object(s.jsx)(y,{startNewQuiz:this.startNewQuiz},t)})}}]),n}(c.a.Component),S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,c=e.getLCP,r=e.getTTFB;n(t),s(t),a(t),c(t),r(t)}))};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(N,{})}),document.getElementById("root")),S()}},[[18,1,2]]]);
//# sourceMappingURL=main.8124dacb.chunk.js.map